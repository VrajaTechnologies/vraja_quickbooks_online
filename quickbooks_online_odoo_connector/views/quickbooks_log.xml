<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <!--log tree view-->
        <record id="view_quickbook_log_tree_view" model="ir.ui.view">
            <field name="name">quickbooks log</field>
            <field name="model">quickbooks.log.vts</field>
            <field name="type">list</field>
            <field name="arch" type="xml">
                <list string="Process Detail" create='false'>
                    <field name="name"/>
                    <field name="quickbooks_operation_type"/>
                    <field name="quickbooks_operation_name"/>
                    <field name="quickbooks_operation_message"/>
                    <field name="create_date"/>
                </list>
            </field>
        </record>

        <!--log form view-->
        <record id="view_form_quickbooks_log_form" model="ir.ui.view">
            <field name="name">quickbooks log</field>
            <field name="model">quickbooks.log.vts</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Process Detail" create="false" edit="false">
                    <sheet>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="quickbooks_operation_name"/>
                                <field name="quickbooks_operation_type"/>
                            </group>
                            <group>
                                <field name="create_date"/>
                                <field name="company_id"/>
                                <field name="qkb_instance_id"/>
                                <field name="quickbooks_operation_message"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Process Detail Line" name="process_detail_line">
                                <field name="quickbooks_operation_line_ids" readonly="1">
                                    <list decoration-danger="fault_operation==True"
                                          decoration-success="fault_operation==False">
                                        <field name="company_id"/>
                                        <field name="qkb_instance_id"/>
                                        <field name="fault_operation"/>
                                        <field name="quickbooks_operation_message"/>
                                    </list>
                                    <form>
                                        <sheet>
                                            <group>
                                                <group>
                                                    <field name="quickbooks_operation_type"/>
                                                    <field name="quickbooks_operation_name"/>
                                                    <field name="company_id"/>
                                                    <field name="qkb_instance_id"/>
                                                </group>
                                                <group>
                                                    <field name="fault_operation"/>
                                                    <field name="quickbooks_operation_message"/>
                                                </group>
                                            </group>
                                            <notebook>
                                                <page name="request" string="Request Data">
                                                    <field name="process_request_message" widget="ace"
                                                    />
                                                </page>
                                                <page string="Response Data" name="response">
                                                    <field name="process_response_message" widget="ace"
                                                    />
                                                </page>
                                            </notebook>
                                        </sheet>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- log line tree view-->
        <record id="base_quickbooks_log_line_tree_view" model="ir.ui.view">
            <field name="name">quickbooks log line</field>
            <field name="model">quickbooks.log.vts.line</field>
            <field name="arch" type="xml">
                <list string="Process Detail Line" create='false'>
                    <field name="quickbooks_operation_id"/>
                    <field name="quickbooks_operation_type"/>
                    <field name="quickbooks_operation_name"/>
                    <field name="quickbooks_operation_message"/>
                    <field name="create_date"/>
                </list>
            </field>
        </record>

        <!-- log line form view-->
        <record id="view_quickbooks_log_line_form_view" model="ir.ui.view">
            <field name="name">quickbooks log line</field>
            <field name="model">quickbooks.log.vts.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Process Detail Line" create="false" edit="false">
                    <sheet>
                        <group readonly="1">
                            <group>
                                <field name="quickbooks_operation_id"/>
                                <field name="quickbooks_operation_name"/>
                                <field name="quickbooks_operation_type"/>
                                <field name="company_id"/>
                                <field name="qkb_instance_id"/>
                            </group>
                            <group>
                                <field name="quickbooks_operation_message"/>
                                <field name="process_request_message"/>
                                <field name="process_response_message"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- action log-->
        <record id="action_quickbooks_log" model="ir.actions.act_window">
            <field name="name">quickbooks Log</field>
            <field name="res_model">quickbooks.log.vts</field>
            <field name="view_id" ref="view_quickbook_log_tree_view"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Quickbooks Logs will display here
                </p>
            </field>
        </record>

        <record id="action_quickbooks_log_qkb_instance_id" model="ir.actions.act_window">
            <field name="name">Quickbooks Log Instance</field>
            <field name="res_model">quickbooks.log.vts</field>
            <field name="view_id" ref="view_quickbook_log_tree_view"/>
            <field name="domain">[('qkb_instance_id', '=', active_id)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Quickbooks Logs will display here
                </p>
            </field>
        </record>

        <!-- action log line-->
        <record id="action_quickbooks_log_line" model="ir.actions.act_window">
            <field name="name">Quickbooks Log Line</field>
            <field name="res_model">quickbooks.log.vts.line</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    quickbooks Log Lines will display here
                </p>
            </field>
            <field name="domain">[('fault_operation', '=', True)]</field>
        </record>
    </data>

    <data noupdate="1">
        <record id="seq_quickbooks_log" model="ir.sequence">
            <field name="name">Quickbooks log seq</field>
            <field name="code">quickbooks.log.vts</field>
            <field name="padding">5</field>
            <field name="prefix">Process-</field>
            <field name="company_id" eval="False"/>
        </record>
    </data>
    <!-- Log Menu & it's Items -->
    <menuitem id="log_menu"
              name="Log"
              parent="quickbooks_online_odoo_connector.menu_quickbooks_root"
              sequence="30"/>
    <menuitem id="menu_quickbook_log"
              name="Log Book"
              parent="quickbooks_online_odoo_connector.log_menu"
              sequence="0"
              action="action_quickbooks_log"/>
    <menuitem id="menu_quickbook_log_line"
              name="Log Book Line"
              parent="quickbooks_online_odoo_connector.log_menu"
              sequence="1"
              action="action_quickbooks_log_line"/>
</odoo>